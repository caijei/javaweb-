{"remainingRequest":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\src\\views\\order\\orderlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\src\\views\\order\\orderlist.vue","mtime":1736255624915},{"path":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1709527618286},{"path":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"C:\\Users\\贺小双\\Downloads\\酒店管理系统\\酒店管理系统\\管理员前端\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1709527618731}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n        };\r\n    },\r\n    methods: {\r\n        accept(orderId) {\r\n            this.$confirm(\"确定接受该订单？\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"success\",\r\n            })\r\n                .then(() => {\r\n                    this.axios\r\n                        .post(\r\n                            \"http://localhost:9151/admin/handle?orderId=\" +\r\n                                orderId\r\n                        )\r\n                        .then(() => {\r\n                            this.$message({\r\n                                type: \"success\",\r\n                                message: \"接受订单成功\",\r\n                            });\r\n                            this.listOrders();\r\n                        })\r\n                        .catch(() => {\r\n                            this.$message({\r\n                                type: \"error\",\r\n                                message: \"接受订单失败\",\r\n                            });\r\n                        });\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消操作\",\r\n                    });\r\n                });\r\n        },\r\n        cancel(orderId) {\r\n            this.$confirm(\"确定取消该订单？\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"error\",\r\n            })\r\n                .then(() => {\r\n                    this.axios\r\n                        .post(\r\n                            \"http://localhost:9151/admin/unsubscribe?orderId=\" +\r\n                                orderId\r\n                        )\r\n                        .then(() => {\r\n                            this.$message({\r\n                                type: \"info\",\r\n                                message: \"取消订单成功\",\r\n                            });\r\n                            this.listOrders();\r\n                        })\r\n                        .catch(() => {\r\n                            this.$message({\r\n                                type: \"info\",\r\n                                message: \"取消订单失败\",\r\n                            });\r\n                        });\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消操作\",\r\n                    });\r\n                });\r\n        },\r\n        listOrders() {\r\n            this.axios\r\n                .get(\"http://localhost:9151/admin/listOrders?orderFlags=0\")\r\n                .then((res) => {\r\n                    this.tableData = res.data.data.map((order) => ({\r\n                        ...order,\r\n                        flag: this.formatFlag(order.flag),\r\n                    }));\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"err: \" + err);\r\n                });\r\n        },\r\n        formatFlag(flag) {\r\n            switch (flag) {\r\n                case 0:\r\n                    return \"未处理\";\r\n                case 1:\r\n                    return \"办理入住\";\r\n                case 2:\r\n                    return \"退订\";\r\n                case 3:\r\n                    return \"订单完成\";\r\n                default:\r\n                    return \"未知状态\";\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        this.listOrders();\r\n    },\r\n};\r\n",null]}