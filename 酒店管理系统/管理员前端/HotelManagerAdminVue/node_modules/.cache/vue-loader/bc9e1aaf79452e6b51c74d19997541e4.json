{"remainingRequest":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\login\\index.vue","mtime":1699164901529},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1709527618286},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1709527618731}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport md5 from \"js-md5\";\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: \"\",\r\n                password: \"\",\r\n            },\r\n            loading: false,\r\n            passwordType: \"password\",\r\n            redirect: undefined,\r\n        };\r\n    },\r\n    watch: {\r\n        $route: {\r\n            handler: function (route) {\r\n                this.redirect = route.query && route.query.redirect;\r\n            },\r\n            immediate: true,\r\n        },\r\n    },\r\n    methods: {\r\n        showPwd() {\r\n            if (this.passwordType === \"password\") {\r\n                this.passwordType = \"\";\r\n            } else {\r\n                this.passwordType = \"password\";\r\n            }\r\n            this.$nextTick(() => {\r\n                this.$refs.password.focus();\r\n            });\r\n        },\r\n        handleLogin() {\r\n            let that = this;\r\n            this.loading = true;\r\n            // 可自定义登录时的逻辑处理\r\n            this.req({\r\n                url: \"http://localhost:9151/admin/login\",\r\n                data: {\r\n                    userName: that.loginForm.username,\r\n                    password: that.loginForm.password,\r\n                },\r\n                method: \"POST\",\r\n            }).then(\r\n                (res) => {\r\n                    localStorage.setItem(\"hasLogin\", true);\r\n                    localStorage.setItem(\"token\", res.data.token);\r\n                    localStorage.setItem(\"userInfo\", JSON.stringify(res.data));\r\n                    this.$router.push({\r\n                        path: \"/\",\r\n                    });\r\n                },\r\n                (e) => {\r\n                    this.passwordError = true;\r\n                    this.loading = false;\r\n                    if (e.response.data == undefined) {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e.response.data,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    }\r\n                }\r\n            );\r\n        },\r\n    },\r\n};\r\n",null]}