{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\src\\views\\login.vue","mtime":1698331710174},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678514552181},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1678514552606},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678514552181},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1678514554361}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport copyright from \"@/components/copyright.vue\";\r\nimport store from \"./../store\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            login: {\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            iconstyle: \"iconfont icon-r-right\",\r\n            disabled: false,\r\n            btnType: \"primary\",\r\n            isRealLogin: true,\r\n        };\r\n    },\r\n    components: {\r\n        copyright,\r\n    },\r\n    methods: {\r\n        loginBtn() {\r\n            if (\r\n                this.login.email.trim() == \"\" ||\r\n                this.login.password.trim() == \"\"\r\n            ) {\r\n                this.$message({\r\n                    message: \"账号或密码不能为空\",\r\n                    type: \"error\",\r\n                });\r\n                return;\r\n            }\r\n            this.iconstyle = \"el-icon-loading\";\r\n            this.disabled = true;\r\n\r\n            this.axios\r\n                .post(\"http://localhost:9151/user/login\", {\r\n                    email: this.login.email,\r\n                    password: this.login.password,\r\n                })\r\n                .then((res) => {\r\n                    if (res.data.code == 200) {\r\n                        this.iconstyle = \"el-icon-check\";\r\n                        this.btnType = \"success\";\r\n                        this.$message({\r\n                            message: \"登录成功，正在跳转\",\r\n                            type: \"success\",\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.disabled = false;\r\n                            this.$store.commit(\"setFind\");\r\n                            this.$router.push(\"/findroom\");\r\n                        }, 2000);\r\n                    } else {\r\n                        this.iconstyle = \"el-icon-close\";\r\n                        this.btnType = \"danger\";\r\n                        this.$message({\r\n                            message: \"登录失败，账号或密码错误\",\r\n                            type: \"error\",\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.disabled = false;\r\n                            this.iconstyle = \"iconfont icon-r-right\";\r\n                            this.btnType = \"primary\";\r\n                        }, 2000);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.iconstyle = \"el-icon-close\";\r\n                    this.btnType = \"danger\";\r\n                    setTimeout(() => {\r\n                        this.disabled = false;\r\n                        this.iconstyle = \"iconfont icon-r-right\";\r\n                        this.btnType = \"primary\";\r\n                    }, 2000);\r\n\r\n                    if (e.response == undefined || e.response.data == undefined) {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e.response.data,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n        nologinBtn() {\r\n            this.$store.commit(\"setFind\");\r\n            this.$router.push(\"/findroom\");\r\n        },\r\n    },\r\n};\r\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <el-container class=\"wrapper\">\r\n            <el-main class=\"section text-center\">\r\n                <div class=\"login-bg\"></div>\r\n                <el-card class=\"box-card login-card\">\r\n                    <div class=\"text item\">\r\n                        <p class=\"login-title\">\r\n                            <i\r\n                                class=\"iconfont icon-r-yes\"\r\n                                style=\"font-size: 32px\"\r\n                            ></i>\r\n                            酒店预订系统\r\n                        </p>\r\n                        <el-form\r\n                            :model=\"login\"\r\n                            status-icon\r\n                            ref=\"login\"\r\n                            label-width=\"80px\"\r\n                        >\r\n                            <el-form-item label=\"账户邮箱\" prop=\"email\">\r\n                                <el-input\r\n                                    type=\"text\"\r\n                                    v-model=\"login.email\"\r\n                                    autocomplete=\"off\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"密码\" prop=\"pass\">\r\n                                <el-input\r\n                                    type=\"password\"\r\n                                    v-model=\"login.password\"\r\n                                    autocomplete=\"off\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </div>\r\n                </el-card>\r\n                <el-button\r\n                    circle\r\n                    :type=\"btnType\"\r\n                    @click=\"loginBtn\"\r\n                    class=\"loginbtn\"\r\n                    :disabled=\"disabled\"\r\n                >\r\n                    <i :class=\"iconstyle\" style=\"font-size: 54px\"></i>\r\n                </el-button>\r\n                <div class=\"register\">\r\n                    <p>\r\n                        <router-link to=\"/register\" style=\"color: black\"\r\n                            >注册账号</router-link\r\n                        >\r\n                    </p>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n        <el-footer class=\"footer text-center\">\r\n            <copyright></copyright>\r\n        </el-footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport copyright from \"@/components/copyright.vue\";\r\nimport store from \"./../store\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            login: {\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            iconstyle: \"iconfont icon-r-right\",\r\n            disabled: false,\r\n            btnType: \"primary\",\r\n            isRealLogin: true,\r\n        };\r\n    },\r\n    components: {\r\n        copyright,\r\n    },\r\n    methods: {\r\n        loginBtn() {\r\n            if (\r\n                this.login.email.trim() == \"\" ||\r\n                this.login.password.trim() == \"\"\r\n            ) {\r\n                this.$message({\r\n                    message: \"账号或密码不能为空\",\r\n                    type: \"error\",\r\n                });\r\n                return;\r\n            }\r\n            this.iconstyle = \"el-icon-loading\";\r\n            this.disabled = true;\r\n\r\n            this.axios\r\n                .post(\"http://localhost:9151/user/login\", {\r\n                    email: this.login.email,\r\n                    password: this.login.password,\r\n                })\r\n                .then((res) => {\r\n                    if (res.data.code == 200) {\r\n                        this.iconstyle = \"el-icon-check\";\r\n                        this.btnType = \"success\";\r\n                        this.$message({\r\n                            message: \"登录成功，正在跳转\",\r\n                            type: \"success\",\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.disabled = false;\r\n                            this.$store.commit(\"setFind\");\r\n                            this.$router.push(\"/findroom\");\r\n                        }, 2000);\r\n                    } else {\r\n                        this.iconstyle = \"el-icon-close\";\r\n                        this.btnType = \"danger\";\r\n                        this.$message({\r\n                            message: \"登录失败，账号或密码错误\",\r\n                            type: \"error\",\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.disabled = false;\r\n                            this.iconstyle = \"iconfont icon-r-right\";\r\n                            this.btnType = \"primary\";\r\n                        }, 2000);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.iconstyle = \"el-icon-close\";\r\n                    this.btnType = \"danger\";\r\n                    setTimeout(() => {\r\n                        this.disabled = false;\r\n                        this.iconstyle = \"iconfont icon-r-right\";\r\n                        this.btnType = \"primary\";\r\n                    }, 2000);\r\n\r\n                    if (e.response == undefined || e.response.data == undefined) {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e.response.data,\r\n                            type: \"error\",\r\n                            duration: 0,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n        nologinBtn() {\r\n            this.$store.commit(\"setFind\");\r\n            this.$router.push(\"/findroom\");\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n.login-bg {\r\n    background: rgb(65, 105, 225);\r\n    height: 30vh;\r\n    background-size: 100%;\r\n    border: 0px solid transparent;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n}\r\n\r\n.text {\r\n    font-size: 14px;\r\n}\r\n\r\n.item {\r\n    /* padding: 18px 0; */\r\n}\r\n\r\n.login-card {\r\n    margin: -7rem 1rem 1rem 1rem;\r\n}\r\n\r\n.login-title {\r\n    font-size: 2rem;\r\n    font-weight: lighter;\r\n    margin-top: 1rem;\r\n}\r\n\r\n.wrapper {\r\n    min-height: 90vh;\r\n}\r\n\r\n.el-main {\r\n    max-height: 90vh;\r\n}\r\n\r\n#app {\r\n    overflow: hidden;\r\n}\r\n\r\n.loginbtn {\r\n    width: 7rem;\r\n    height: 7rem;\r\n    font-size: 1.5rem;\r\n    margin-top: 2rem;\r\n}\r\n\r\n.register {\r\n    margin-top: 5vh;\r\n}\r\n\r\n.register a,\r\n.register div {\r\n    color: #409eff;\r\n}\r\n\r\n.register p {\r\n    margin: 0.5rem;\r\n}\r\n</style>\r\n"]}]}