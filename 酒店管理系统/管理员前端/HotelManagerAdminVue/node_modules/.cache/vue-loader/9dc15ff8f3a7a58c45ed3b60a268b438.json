{"remainingRequest":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\order\\orderlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\order\\orderlist.vue","mtime":1698854653241},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1709527618286},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1709527618731}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n        };\r\n    },\r\n    methods: {\r\n        accept(orderId) {\r\n            // 接受订单\r\n            this.$confirm(\"确定接受该订单？\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"success\",\r\n            })\r\n                .then(() => {\r\n                    this.axios\r\n                        .post(\r\n                            \"http://localhost:9151/admin/handle?orderId=\" +\r\n                                orderId\r\n                        )\r\n                        .then((res) => {\r\n                            this.$message({\r\n                                type: \"success\",\r\n                                message: \"接受订单成功\",\r\n                            });\r\n                            this.listOrders();\r\n                        })\r\n                        .catch((res) => {\r\n                            this.$message({\r\n                                type: \"error\",\r\n                                message: \"接受订单失败\",\r\n                            });\r\n                        });\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消操作\",\r\n                    });\r\n                });\r\n        },\r\n        cancel(orderId) {\r\n            // 取消订单\r\n            this.$confirm(\"确定取消该订单？\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"error\",\r\n            })\r\n                .then(() => {\r\n                    this.axios\r\n                        .post(\r\n                            \"http://localhost:9151/admin/unsubscribe?orderId=\" +\r\n                                orderId\r\n                        )\r\n                        .then((res) => {\r\n                            this.$message({\r\n                                type: \"info\",\r\n                                message: \"取消订单成功\",\r\n                            });\r\n                            this.listOrders();\r\n                        })\r\n                        .catch((res) => {\r\n                            this.$message({\r\n                                type: \"info\",\r\n                                message: \"取消订单失败\",\r\n                            });\r\n                        });\r\n                    this.listOrders();\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消操作\",\r\n                    });\r\n                });\r\n        },\r\n        listOrders() {\r\n            this.axios\r\n                .get(\"http://localhost:9151/admin/listOrders?orderFlags=0\")\r\n                .then((res) => {\r\n                    console.log(res.data.data);\r\n                    this.tableData = res.data.data;\r\n                    for (var i = 0; i < this.tableData.length; ++i) {\r\n                        switch (this.tableData[i].flag) {\r\n                            case 0:\r\n                                this.tableData[i].flag = \"未处理\";\r\n                                break;\r\n                            case 1:\r\n                                this.tableData[i].flag = \"办理入住\";\r\n                                break;\r\n                            case 2:\r\n                                this.tableData[i].flag = \"退订\";\r\n                                break;\r\n                            case 3:\r\n                                this.tableData[i].flag = \"订单完成\";\r\n                                break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch((res) => {\r\n                    console.log(\"err: \" + res);\r\n                });\r\n        },\r\n    },\r\n    mounted() {\r\n        this.listOrders();\r\n    },\r\n};\r\n",null]}