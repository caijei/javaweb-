{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\src\\views\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\src\\views\\register.vue","mtime":1698855296177},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678514552181},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1678514552606},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678514552181},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\HotelManager\\src\\HotelManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1678514554361}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport copyright from \"@/components/copyright.vue\";\r\nimport store from \"./../store\";\r\nexport default {\r\n    data() {\r\n        var validatePass = (rule, value, callback) => {\r\n            if (value === \"\") {\r\n                callback(new Error(\"请输入密码\"));\r\n            } else {\r\n                if (this.register.checkPass !== \"\") {\r\n                    this.$refs.register.validateField(\"checkPass\");\r\n                }\r\n                callback();\r\n            }\r\n        };\r\n        var validatePass2 = (rule, value, callback) => {\r\n            if (value === \"\") {\r\n                callback(new Error(\"请再次输入密码\"));\r\n            } else if (value !== this.register.password) {\r\n                callback(new Error(\"两次输入密码不一致!\"));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            register: {\r\n                username: \"\",\r\n                password: \"\",\r\n                confirm: \"\",\r\n                email: \"\",\r\n                phone: \"\",\r\n                gender: \"1\",\r\n            },\r\n            iconstyle: \"el-icon-document-checked\",\r\n            disabled: false,\r\n            btnType: \"primary\",\r\n            isRealRegister: false,\r\n            rules: {\r\n                password: [\r\n                    {\r\n                        validator: validatePass,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                confirm: [\r\n                    {\r\n                        validator: validatePass2,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    components: {\r\n        copyright,\r\n    },\r\n    methods: {\r\n        resetForm(register) {\r\n            // console.log(this.$refs[register]);\r\n            this.$refs[register].resetFields();\r\n        },\r\n        registerBtnTest(register) {\r\n            // console.log(this.$refs[register].validate);\r\n            this.$refs[register].validate((valid) => {\r\n                if (valid) {\r\n                    console.log(this.register);\r\n                } else {\r\n                    console.log(\"err\");\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        registerBtn(register) {\r\n            this.$refs[register].validate((valid) => {\r\n                if (valid) {\r\n                    this.iconstyle = \"el-icon-loading\";\r\n                    this.disabled = true;\r\n                    this.axios\r\n                        .post(\"http://localhost:9151/user/register\", {\r\n                            email: this.register.email,\r\n                            userName: this.register.username,\r\n                            password: this.register.password,\r\n                            sex: this.register.gender,\r\n                            phone: this.register.phone,\r\n                        })\r\n                        .then((res) => {\r\n                            if (res.data.code == 200) {\r\n                                this.iconstyle = \"el-icon-check\";\r\n                                this.btnType = \"success\";\r\n                                setTimeout(() => {\r\n                                    this.disabled = false;\r\n                                    this.$router.push(\"/login\");\r\n                                }, 2000);\r\n                            } else {\r\n                                this.iconstyle = \"el-icon-close\";\r\n                                this.btnType = \"danger\";\r\n                                this.$message({\r\n                                    message: res.data.data,\r\n                                    type: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    this.disabled = false;\r\n                                    this.iconstyle = \"el-icon-document-checked\";\r\n                                    this.btnType = \"primary\";\r\n                                }, 2000);\r\n                            }\r\n                        })\r\n                        .catch((res) => {\r\n                            console.log(res);\r\n                            this.iconstyle = \"el-icon-close\";\r\n                            this.btnType = \"danger\";\r\n                            setTimeout(() => {\r\n                                this.disabled = false;\r\n                                this.iconstyle = \"el-icon-document-checked\";\r\n                                this.btnType = \"primary\";\r\n                            }, 2000);\r\n                        });\r\n                } else {\r\n                    console.log(\"error submit!!\");\r\n                    this.iconstyle = \"el-icon-close\";\r\n                    this.btnType = \"danger\";\r\n                    setTimeout(() => {\r\n                        this.disabled = false;\r\n                        this.iconstyle = \"el-icon-document-checked\";\r\n                        this.btnType = \"primary\";\r\n                    }, 2000);\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <el-container class=\"wrapper\">\r\n            <el-main class=\"section text-center\">\r\n                <div class=\"register-bg\"></div>\r\n                <el-card class=\"box-card register-card\">\r\n                    <div class=\"text item\">\r\n                        <p class=\"register-title\">账号注册</p>\r\n                        <el-form\r\n                            :model=\"register\"\r\n                            status-icon\r\n                            :rules=\"rules\"\r\n                            ref=\"register\"\r\n                            label-width=\"80px\"\r\n                        >\r\n                            <el-form-item label=\"用户名\" prop=\"username\">\r\n                                <el-input\r\n                                    type=\"text\"\r\n                                    v-model=\"register.username\"\r\n                                    suffix-icon=\"el-icon-user\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"密码\" prop=\"password\">\r\n                                <el-input\r\n                                    type=\"password\"\r\n                                    v-model=\"register.password\"\r\n                                    suffix-icon=\"el-icon-lock\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"确认密码\" prop=\"confirm\">\r\n                                <el-input\r\n                                    type=\"password\"\r\n                                    v-model=\"register.confirm\"\r\n                                    suffix-icon=\"el-icon-lock\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"手机号码\" prop=\"phone\">\r\n                                <el-input\r\n                                    type=\"text\"\r\n                                    v-model=\"register.phone\"\r\n                                    suffix-icon=\"el-icon-mobile-phone\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"邮箱\" prop=\"email\">\r\n                                <el-input\r\n                                    type=\"email\"\r\n                                    v-model=\"register.email\"\r\n                                    suffix-icon=\"el-icon-message\"\r\n                                ></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"性别\" prop=\"gender\">\r\n                                <el-radio v-model=\"register.gender\" label=\"1\"\r\n                                    >男</el-radio\r\n                                >\r\n                                <el-radio v-model=\"register.gender\" label=\"0\"\r\n                                    >女</el-radio\r\n                                >\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <el-button\r\n                            :type=\"btnType\"\r\n                            @click=\"registerBtn('register')\"\r\n                            class=\"registerbtn\"\r\n                            :disabled=\"disabled\"\r\n                        >\r\n                             注册账号\r\n                        </el-button>\r\n                    </div>\r\n                </el-card>\r\n\r\n                <div class=\"register\">\r\n                    <p>\r\n                        <router-link to=\"/login\" style=\"color: black\"\r\n                            >已有账号？立即登录</router-link\r\n                        >\r\n                    </p>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n        <el-footer class=\"footer text-center\">\r\n            <copyright></copyright>\r\n        </el-footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport copyright from \"@/components/copyright.vue\";\r\nimport store from \"./../store\";\r\nexport default {\r\n    data() {\r\n        var validatePass = (rule, value, callback) => {\r\n            if (value === \"\") {\r\n                callback(new Error(\"请输入密码\"));\r\n            } else {\r\n                if (this.register.checkPass !== \"\") {\r\n                    this.$refs.register.validateField(\"checkPass\");\r\n                }\r\n                callback();\r\n            }\r\n        };\r\n        var validatePass2 = (rule, value, callback) => {\r\n            if (value === \"\") {\r\n                callback(new Error(\"请再次输入密码\"));\r\n            } else if (value !== this.register.password) {\r\n                callback(new Error(\"两次输入密码不一致!\"));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            register: {\r\n                username: \"\",\r\n                password: \"\",\r\n                confirm: \"\",\r\n                email: \"\",\r\n                phone: \"\",\r\n                gender: \"1\",\r\n            },\r\n            iconstyle: \"el-icon-document-checked\",\r\n            disabled: false,\r\n            btnType: \"primary\",\r\n            isRealRegister: false,\r\n            rules: {\r\n                password: [\r\n                    {\r\n                        validator: validatePass,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                confirm: [\r\n                    {\r\n                        validator: validatePass2,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    components: {\r\n        copyright,\r\n    },\r\n    methods: {\r\n        resetForm(register) {\r\n            // console.log(this.$refs[register]);\r\n            this.$refs[register].resetFields();\r\n        },\r\n        registerBtnTest(register) {\r\n            // console.log(this.$refs[register].validate);\r\n            this.$refs[register].validate((valid) => {\r\n                if (valid) {\r\n                    console.log(this.register);\r\n                } else {\r\n                    console.log(\"err\");\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        registerBtn(register) {\r\n            this.$refs[register].validate((valid) => {\r\n                if (valid) {\r\n                    this.iconstyle = \"el-icon-loading\";\r\n                    this.disabled = true;\r\n                    this.axios\r\n                        .post(\"http://localhost:9151/user/register\", {\r\n                            email: this.register.email,\r\n                            userName: this.register.username,\r\n                            password: this.register.password,\r\n                            sex: this.register.gender,\r\n                            phone: this.register.phone,\r\n                        })\r\n                        .then((res) => {\r\n                            if (res.data.code == 200) {\r\n                                this.iconstyle = \"el-icon-check\";\r\n                                this.btnType = \"success\";\r\n                                setTimeout(() => {\r\n                                    this.disabled = false;\r\n                                    this.$router.push(\"/login\");\r\n                                }, 2000);\r\n                            } else {\r\n                                this.iconstyle = \"el-icon-close\";\r\n                                this.btnType = \"danger\";\r\n                                this.$message({\r\n                                    message: res.data.data,\r\n                                    type: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    this.disabled = false;\r\n                                    this.iconstyle = \"el-icon-document-checked\";\r\n                                    this.btnType = \"primary\";\r\n                                }, 2000);\r\n                            }\r\n                        })\r\n                        .catch((res) => {\r\n                            console.log(res);\r\n                            this.iconstyle = \"el-icon-close\";\r\n                            this.btnType = \"danger\";\r\n                            setTimeout(() => {\r\n                                this.disabled = false;\r\n                                this.iconstyle = \"el-icon-document-checked\";\r\n                                this.btnType = \"primary\";\r\n                            }, 2000);\r\n                        });\r\n                } else {\r\n                    console.log(\"error submit!!\");\r\n                    this.iconstyle = \"el-icon-close\";\r\n                    this.btnType = \"danger\";\r\n                    setTimeout(() => {\r\n                        this.disabled = false;\r\n                        this.iconstyle = \"el-icon-document-checked\";\r\n                        this.btnType = \"primary\";\r\n                    }, 2000);\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n.register-bg {\r\n    background: rgb(65, 105, 225);\r\n    height: 20vh;\r\n    background-size: 100%;\r\n    border: 0px solid transparent;\r\n    border-bottom-left-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n}\r\n\r\n.text {\r\n    font-size: 14px;\r\n}\r\n\r\n.item {\r\n    /* padding: 18px 0; */\r\n}\r\n\r\n.register-card {\r\n    margin: -5rem 1rem 1rem 1rem;\r\n}\r\n\r\n.register-title {\r\n    font-size: 2rem;\r\n    font-weight: lighter;\r\n    margin-top: 1rem;\r\n}\r\n\r\n.wrapper {\r\n    min-height: 90vh;\r\n}\r\n\r\n.el-main {\r\n    max-height: 90vh;\r\n}\r\n\r\n#app {\r\n    overflow: hidden;\r\n}\r\n\r\n.registerbtn {\r\n    /* margin-top: 2rem; */\r\n}\r\n\r\n.register a,\r\n.register div {\r\n    color: #409eff;\r\n}\r\n\r\n.register p {\r\n    margin: 0.5rem;\r\n}\r\n</style>\r\n"]}]}