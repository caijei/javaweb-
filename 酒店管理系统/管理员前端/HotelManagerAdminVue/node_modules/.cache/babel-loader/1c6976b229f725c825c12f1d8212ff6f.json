{"remainingRequest":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js!D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\permission.js","dependencies":[{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\permission.js","mtime":1698854827273},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\babel.config.js","mtime":1678513043042},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1709527618286},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\eslint-loader\\index.js","mtime":1709527617465}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/10000/java/82\\u3001\\u9152\\u5E97\\u7BA1\\u7406\\u7CFB\\u7EDF/HotelManager/HotelManager/HotelManagerAdminVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nvar _regeneratorRuntime2 = _interopRequireDefault(require(\"D:/10000/java/82\\u3001\\u9152\\u5E97\\u7BA1\\u7406\\u7CFB\\u7EDF/HotelManager/HotelManager/HotelManagerAdminVue/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\"));\nrequire(\"regenerator-runtime/runtime\");\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"D:/10000/java/82\\u3001\\u9152\\u5E97\\u7BA1\\u7406\\u7CFB\\u7EDF/HotelManager/HotelManager/HotelManagerAdminVue/node_modules/@babel/runtime/helpers/asyncToGenerator.js\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nvar _nprogress = _interopRequireDefault(require(\"nprogress\"));\nrequire(\"nprogress/nprogress.css\");\nvar _getPageTitle = _interopRequireDefault(require(\"@/utils/get-page-title\"));\nrequire(\"@/utils/initialize\");\n/*\r\n * @Description: \r\n * @Author: Rabbiter\r\n * @Date: 2023-03-11 13:37:23\r\n */\n/* eslint-disable prefer-const */\n\n// progress bar\n// progress bar style\n\n_nprogress.default.configure({\n  showSpinner: false\n}); // NProgress Configuration\n\nvar whiteList = ['/login']; // no redirect whitelist\n\n_router.default.beforeEach( /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/(0, _regeneratorRuntime2.default)().mark(function _callee(to, from, next) {\n    var hasLogin, id;\n    return (0, _regeneratorRuntime2.default)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // start progress bar\n          _nprogress.default.start();\n\n          // set page title\n          document.title = (0, _getPageTitle.default)(to.meta.title);\n\n          // determine whether the user has logged in\n          hasLogin = localStorage.getItem('hasLogin');\n          if (hasLogin) {\n            if (to.path === '/login') {\n              // if is logged in, redirect to the home page\n              next({\n                path: '/'\n              });\n              _nprogress.default.done();\n            } else {\n              next();\n              _nprogress.default.done();\n            }\n            if (to.path === '/user/user') {\n              id = JSON.parse(localStorage.getItem('userInfo')).id;\n              if (id > 2) {\n                next({\n                  path: '/task'\n                });\n                window.alert('permission denied');\n              }\n            }\n          } else {\n            /* has no token*/\n\n            if (whiteList.indexOf(to.path) !== -1) {\n              // in the free login whitelist, go directly\n              next();\n            } else {\n              // other pages that do not have permission to access are redirected to the login page.\n              next(\"/login?redirect=\".concat(to.path));\n              _nprogress.default.done();\n            }\n          }\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n_router.default.afterEach(function () {\n  // finish progress bar\n  _nprogress.default.done();\n});",null]}