{"remainingRequest":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\room\\roomchange.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\src\\views\\room\\roomchange.vue","mtime":1698854763299},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1709527618286},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709527618081},{"path":"D:\\10000\\java\\82、酒店管理系统\\HotelManager\\HotelManager\\HotelManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1709527618731}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            change: {\r\n                id: \"\",\r\n                number: \"\",\r\n                type: \"\",\r\n                state: \"\",\r\n                maxPeople: \"\",\r\n                introduce: \"\",\r\n\r\n                size: \"\",\r\n                computer: \"有\",\r\n                hotWater: \"有\",\r\n                wifi: \"有\",\r\n                tv: \"有\",\r\n                breakfast: \"有\",\r\n            },\r\n            iconstyle: \"el-icon-a-032\",\r\n            disabled: false,\r\n            btnType: \"primary\",\r\n            isRealchange: false,\r\n            dialogVisible: false,\r\n            msgText: \"\",\r\n        };\r\n    },\r\n    components: {},\r\n    methods: {\r\n        queryBtn() {\r\n            this.axios\r\n                .post(\r\n                    \"http://localhost:9151/admin/roomDetail?roomId=\" +\r\n                        this.change.id\r\n                )\r\n                .then((res) => {\r\n                    this.change.number = res.data.data.room.number;\r\n                    this.change.type = res.data.data.type.id;\r\n                    this.change.state = res.data.data.room.state;\r\n                    this.change.maxPeople = res.data.data.room.maxPeople;\r\n\r\n                    this.change.introduce = res.data.data.room.introduce;\r\n\r\n                    var parms = this.change.introduce.split(\",\");\r\n                    for (var i = 0; i < parms.length; ++i) {\r\n                        // 填充房间参数详情\r\n                        var values = parms[i].split(\":\");\r\n                        switch (values[0]) {\r\n                            case \"面积\":\r\n                                this.change.size = values[1].replace(\"m²\", \"\");\r\n                                break;\r\n                            case \"电脑\":\r\n                                this.change.computer = values[1];\r\n                                break;\r\n                            case \"热水\":\r\n                                this.change.hotWater = values[1];\r\n                                break;\r\n                            case \"WIFI\":\r\n                                this.change.wifi = values[1];\r\n                                break;\r\n                            case \"电视\":\r\n                                this.change.tv = values[1];\r\n                                break;\r\n                            case \"早餐\":\r\n                                this.change.breakfast = values[1];\r\n                                break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch((res) => {\r\n                    console.log(\"err:\" + res);\r\n                });\r\n        },\r\n        changeBtn() {\r\n            if (this.change.number == \"\") {\r\n                this.$message.error(\"请提供房间号\");\r\n                return;\r\n            }\r\n            if (this.change.type == \"\") {\r\n                this.$message.error(\"请选择房间类型\");\r\n                return;\r\n            }\r\n            if (this.change.state === \"\") {\r\n                this.$message.error(\"请选择房间状态\");\r\n                return;\r\n            }\r\n            if (this.change.maxPeople == \"\") {\r\n                this.$message.error(\"请填写最大容纳人数\");\r\n                return;\r\n            }\r\n            if (this.change.size == \"\") {\r\n                this.$message.error(\"请填写房间面积\");\r\n                return;\r\n            }\r\n            this.change.introduce =\r\n                \"面积:\" +\r\n                this.change.size +\r\n                \"m²,容纳:1-\" +\r\n                this.change.maxPeople +\r\n                \"人,电脑:\" +\r\n                this.change.computer +\r\n                \",热水:\" +\r\n                this.change.hotWater +\r\n                \",WIFI:\" +\r\n                this.change.wifi +\r\n                \",电视:\" +\r\n                this.change.tv +\r\n                \",早餐:\" +\r\n                this.change.breakfast;\r\n            this.axios\r\n                .post(\"http://localhost:9151/admin/updateRoom\", this.change)\r\n                .then((res) => {\r\n                    if (res.data.code == \"200\") {\r\n                        this.dialogVisible = true;\r\n                        this.msgText = \"信息修改成功。\";\r\n                    } else {\r\n                        this.$message.error(res.data.data);\r\n                    }\r\n                })\r\n                .catch((res) => {\r\n                    this.dialogVisible = true;\r\n                    this.msgText = \"信息修改失败。\";\r\n                });\r\n        },\r\n    },\r\n};\r\n",null]}